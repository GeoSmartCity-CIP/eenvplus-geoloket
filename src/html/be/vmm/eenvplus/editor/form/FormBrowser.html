<div id="formBrowser" class="panel-group" role="tablist" aria-multiselectable="true">
    <section class="panel panel-default" ng-repeat="feature in features">

        <header class="panel-heading" role="tab">
            <h4 class="panel-title">
                <a data-toggle="collapse"
                   data-parent="#formBrowser"
                   href="#featureForm_{{feature.key}}"
                   aria-expanded="true"
                   aria-controls="collapseOne">
                    {{feature | epFeatureLabel}}
                </a>
            </h4>
        </header>

        <section id="featureForm_{{feature.key}}"
                 class="panel-collapse collapse" ng-class="{in: $first}"
                 role="tabpanel">

            <div ep-sewer-form
                 ng-if="feature.layerBodId | epIsFeatureType: featureType.SEWER"
                 data="feature.properties"
                 class="panel-body">
            </div>
            <div ep-appurtenance-form
                 ng-if="feature.layerBodId | epIsFeatureType: featureType.APPURTENANCE"
                 data="feature.properties"
                 class="panel-body">
            </div>

            <div class="metadata">
                Last update by {{feature.userId | epUserName}} on {{feature.beginLifeSpanVersion | epDate}}
            </div>

            <div class="actions">
                <button class="btn btn-danger" ng-click="discard(feature)">Discard</button>
                <button class="btn btn-success" ng-click="commit(feature)">Accept</button>
            </div>
        </section>

    </section>
</div>
